<ion-content class="general" [fullscreen]="true">

    <!-- Imagen principal -->
    <div class="imagen-container">
        <img src="assets/img/Street-Fighter-6.jpg" alt="Street Fighter" onerror="this.src='assets/img/default.jpg'" />
    </div>

    <div class="div-grande">

        <!-- Botón de regreso -->
        <ion-button fill="clear" class="icono-atras" (click)="irAtras()">
            <ion-icon name="arrow-back-circle-outline"></ion-icon>
        </ion-button>

        <!-- Perfil del usuario -->
        <div class="div-foto-perfil">
            <ion-button (click)="toggleMenu()" fill="clear" class="icono-config"></ion-button>
            <ion-list *ngIf="menuVisible">
                <ion-item button (click)="ediPerfil()">Editar perfil</ion-item>
            </ion-list>

            <ion-avatar class="avatar">
                <ion-icon id="icono-user" name="person-circle-outline"></ion-icon>
            </ion-avatar>

            <div class="info-perfil">
                <h2 class="color-n">{{usuario.nickname}}</h2>
            </div>
            <hr />

            <!-- Ficha de Jugador -->
            <ion-card id="torneos-h">
                <ion-card-header>
                    <ion-card-title>Ficha de Jugador</ion-card-title>
                </ion-card-header>

                <ion-item>
                    <ion-label position="floating">Nombre</ion-label>
                    <h6 class="color-n">{{usuario.pnombre}} {{usuario.papellido}}</h6>
                </ion-item>
                <ion-item>
                    <ion-label position="floating">Correo</ion-label>
                    <h6 class="color-n">{{usuario.correo}}</h6>
                </ion-item>
                <ion-item>
                    <ion-label position="floating">Nickname</ion-label>
                    <h6 class="color-n">{{usuario.nickname}}</h6>
                </ion-item>
            </ion-card>

            <ion-button (click)="ediPerfil()">Modificar Perfil</ion-button>
            <ion-button (click)="cambiarContra()">Modificar Contraseña</ion-button>
            <hr />

            <!-- Segmento -->
            <ion-segment [(ngModel)]="seleccion">
                <ion-segment-button value="Torneos jugados" class="segmento-stats">
                    <ion-label style="white-space: pre-line">Torneos jugados</ion-label>
                </ion-segment-button>
                <ion-segment-button value="Historial" class="segmento-stats">
                    <ion-label>Tus torneos</ion-label>
                </ion-segment-button>
            </ion-segment>

            <!-- Torneos Historial -->
            <div *ngIf="seleccion == 'Historial'">
                <ion-card id="torneos">
                    <ion-card-content class="torneos">
                        <div class="ov">
                            <ion-card *ngFor="let torneo of torneosJugados">
                                <div *ngIf="'Finalizado' == torneo.estado">
                                    <ion-card-content>
                                        <div class="distribucion-historial1">
                                            <img 
                                                class="imagen-historial1" 
                                                [src]="torneo.imagen || 'assets/img/default.jpg'" 
                                                alt="{{torneo.nombre}}" 
                                                onerror="this.src='assets/img/default.jpg'" />
                                            <div class="texto">
                                                <h6>{{torneo.nombre}}</h6>
                                                <p>{{torneo.tipo}}</p>
                                                <p>Puesto: {{torneo.puesto}}</p>
                                                <p>Fecha: {{torneo.fecha}}</p>
                                            </div>
                                        </div>
                                    </ion-card-content>
                                </div>
                            </ion-card>
                        </div>
                    </ion-card-content>
                </ion-card>
            </div>
        </div>
    </div>
</ion-content>
